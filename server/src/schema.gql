type Mutation {
  """
  Restaurant operations
  """
  signup(data: CreateRestaurant!): Restaurant
  loginRestaurant(credentials: LoginRestaurant!): AuthRestaurant
  updateRestaurant(update: UpdateRestaurant!): Restaurant
  deleteRestaurant: Deleted
  updateRestaurantPassword(update: UpdateRestaurantPassword!): PasswordUpdated
  """
  Waiter opearations
  """
  createWaiter(data: CreateWaiter!): Waiter
  updateWaiter(data: UpdateWaiter!): Waiter
  deleteWaiter(where: WhereWaiter!): Deleted
  updateWaiterPassword(data: UpdateWaiterPassword): PasswordUpdated
  loginWaiter(credentials: LoginWaiter!): AuthWaiter
}

type Query {
  waiters: [Waiter]
  restaurantInfo: Restaurant
  waiterInfo(where: WhereWaiter): Waiter
  address: Address
}

schema {
  mutation: Mutation
  query: Query
}

"""
Models
"""
type RestaurantModel {
  id: Int!
  name: String!
  email: String!
  password: String!
  address: Address
  waiters: [Waiter]
  orders: [Order]
  meals: [Meal]
  categories: [Category]
  tables: [Table]
}

type Address {
  id: Int!
  country: String!
  zip: String!
  city: String!
  address1: String!
  address2: String!
  restaurant: Restaurant
}

type WaiterModel {
  id: Int!
  name: String!
  email: String!
  gender: String!
  profileIcon: String
  password: String!
  orders: [Order]
  restaurant: Restaurant
}

type Order {
  id: Int!
  description: String!
  createdAt: String!
  isReady: Boolean!
  waiter: Waiter!
  table: Table!
  restaurant: Restaurant!
  meal: Meal!
}

type Meal {
  id: Int!
  name: String!
  price: Float!
  restaurant: Restaurant!
  category: Category
  orders: [Order]
}

type Category {
  id: Int!
  name: String!
  meal: [Meal]
  restaurant: Restaurant!
}

type Table {
  id: Int!
  name: String!
  orders: [Order]
  restaurant: Restaurant!
}

"""
Restaurant Dto
"""
input CreateRestaurant {
  name: String!
  email: String!
  password: String!
  address: CreateAddress!
}

input LoginRestaurant {
  email: String!
  password: String!
}
input WhereRestaurant {
  id: Int
  email: String
}
input UpdateRestaurantData {
  where: WhereRestaurant!
  data: UpdateRestaurant!
}
input UpdateRestaurant {
  name: String
  password: String
  address: UpdateAddress
}

input UpdateRestaurantDataPassword {
  where: WhereRestaurant!
  update: UpdateRestaurantPassword!
}

input UpdateRestaurantPassword {
  old: String!
  password: String!
}

"""
Restaurant Response
"""
type AuthRestaurant {
  restaurant: Restaurant!
  access_token: String!
}

type Restaurant {
  id: Int!
  name: String!
  email: String!
  address: Address
  waiters: [Waiter]
  orders: [Order]
  meals: [Meal]
  categories: [Category]
  tables: [Table]
}

"""
Address Input
"""
input CreateAddress {
  country: String!
  zip: String!
  city: String!
  address1: String!
  address2: String
}

input UpdateAddress {
  country: String
  zip: String
  city: String
  address1: String
  address2: String
}

input WhereAddress {
  id: Int
  restaurantId: Int
}

"""
Waiter Dto
"""
input CreateWaiterData {
  restaurantId: Int!
  data: CreateWaiter!
}

input WhereWaiter {
  id: Int
  email: String
  restaurantId: Int
}

input CreateWaiter {
  name: String!
  email: String!
  gender: String!
  profileIcon: String
  password: String!
}

input UpdateWaiterData {
  name: String
  gender: String
  email: String
  profileIcon: String
}

input UpdateWaiter {
  where: WhereWaiter
  update: UpdateWaiterData!
  role: String
}

input UpdateWaiterPassword {
  where: WhereWaiter
  update: UpdateWaiterDataPassword!
  role: String
}

input UpdateWaiterDataPassword {
  password: String!
  old: String
}

input LoginWaiter {
  email: String!
  password: String!
}

"""
Waiter Response
"""
type Waiter {
  id: Int!
  name: String!
  email: String!
  gender: String!
  profileIcon: String
  orders: [Order]
  restaurant: Restaurant
}

type AuthWaiter {
  access_token: String!
  waiter: Waiter!
}

"""
Others
"""
type JwtPayload {
  name: String!
  sub: Int!
  role: String!
  id: Int!
}

type Deleted {
  message: String!
}

type PasswordUpdated {
  message: String!
}
